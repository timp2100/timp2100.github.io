---
layout: post
title:  网站更新说明
date:   2022-06-05 10:32:45 +0800
permalink: /blog-update
categories: web
---
<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>2022-06-05-网站更新说明</title>
</head>
<body><h3 id='前言'>前言</h3>
<p>	由于采用的GitHub Pages使用外网服务器，而在腾讯云备案的域名是不允许使用外网服务器的，在工作人员的提醒下删除了ICP备案和公安备案（使用外网服务器无需备案；当然，也可以继续使用原备案并换成国内的服务器）。</p>
<h3 id='更换服务器的方案'>更换服务器的方案</h3>
<p>	如果换成国内的服务器，如使用Gitee Pages，在个人无法开启Gitee Pages Pro的情况下，可以采用显式跳转的方案：</p>
<ol start='' >
<li><p>将网站仓库移至Gitee Pages下。</p>
</li>
<li><p>在购买域名的地方添加域名解析如下：</p>
<figure><table>
<thead>
<tr><th style='text-align:center;' >主机</th><th style='text-align:center;' >类型</th><th style='text-align:center;' >记录值</th></tr></thead>
<tbody><tr><td style='text-align:center;' >@</td><td style='text-align:center;' >显式URL</td><td style='text-align:center;' ><a href='https://your-username.gitee.io' target='_blank' class='url'>https://your-username.gitee.io</a></td></tr><tr><td style='text-align:center;' >www</td><td style='text-align:center;' >显式URL</td><td style='text-align:center;' ><a href='https://your-username.gitee.io' target='_blank' class='url'>https://your-username.gitee.io</a></td></tr></tbody>
</table></figure>
</li>

</ol>
<p>	在浏览器地址栏输入域名，即可自动跳转至your-username.gitee.io。</p>
<h3 id='删除备案的方案采用'>删除备案的方案(采用)</h3>
<p>	首先按照官方提示注销ICP备案和公安备案，然后删除原用于存放备案信息的页脚，具体改动如下：</p>
<ol start='' >
<li><p>删除_include/default.html中的<code>&lt;footer&gt;&lt;/footer&gt;</code>标签。</p>
</li>
<li><p>将footer.html中的邮件联系方式相关代码</p>
<pre><code class='language-html' lang='html'>&lt;div class=&quot;site-footer-connect&quot;&gt;
    {%- if site.email -%}
    &lt;a class=&quot;u-email&quot; href=&quot;mailto:{{ site.email }}&quot;&gt;&lt;img src=&quot;https://timp2100.cn/images/mail.png&quot;/&gt;&lt;/a&gt;
    {%- endif -%}
&lt;/div&gt;
</code></pre>
<p>移至_include/default.html中的sidebar-item sidebar-header这一div中，将site-footer-connect更名为site-connect。</p>
</li>
<li><p>在public/css/style.css中删除.site-footer相关代码，再添加如下代码：</p>
<pre><code class='language-css' lang='css'>.site-connect {
	margin: 0 auto;
}
.site-connect img {
	width: 20px;
	height: 20px;
}
</code></pre>
</li>

</ol>
<h3 id='添加网站统计功能'>添加网站统计功能</h3>
<p>	为网站添加百度统计功能，注册百度统计账号，根据域名申请代码如下：</p>
<pre><code class='language-html' lang='html'>var _hmt = _hmt || [];
(function() {
var hm = document.createElement(&quot;script&quot;);
hm.src = &quot;https://hm.baidu.com/hm.js?your-ID&quot;;
var s = document.getElementsByTagName(&quot;script&quot;)[0]; 
s.parentNode.insertBefore(hm, s);
})();
</code></pre>
<p>	将该段代码埋入公用的html文件中，并放在<code>&lt;script&gt;&lt;/script&gt;</code>标签内，这里选择了_include/default.html，登录百度统计网站即可查看网站浏览情况。</p>
</body>
</html>